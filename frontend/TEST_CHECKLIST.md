# 前端测试清单

## 测试环境准备

### 后端服务
1. 确保后端服务运行在 `http://localhost:8888`
2. 确保 WebSocket 服务运行在 `ws://localhost:8888/ws`
3. 数据库正常连接

### 前端服务
1. 前端服务运行在 `http://localhost:5173`
2. 所有依赖已安装：`pnpm install`

## 功能测试清单

### 1. 认证功能 ✓
- [ ] 用户注册 - `/register`
  - [ ] 表单验证（用户名、邮箱、密码格式）
  - [ ] 密码确认一致性检查
  - [ ] 注册成功跳转到登录页
  - [ ] 错误提示显示
  
- [ ] 用户登录 - `/login`
  - [ ] 表单验证
  - [ ] 登录成功跳转到首页
  - [ ] Token 存储到 localStorage
  - [ ] 错误提示显示

- [ ] 自动登录
  - [ ] 刷新页面保持登录状态
  - [ ] Token 过期自动跳转登录页

- [ ] 退出登录
  - [ ] 清除 Token
  - [ ] 跳转到登录页

### 2. 首页 Dashboard ✓
- [ ] 统计卡片显示
  - [ ] 我的论文数量
  - [ ] 检查次数
  - [ ] 待审核结果（教师+）
  - [ ] 平均分数
  
- [ ] 最近论文列表
  - [ ] 显示最近 5 篇论文
  - [ ] 点击跳转到论文详情

- [ ] 快捷入口
  - [ ] 上传论文按钮
  - [ ] 提交检查按钮

### 3. 论文管理 ✓

#### 3.1 论文列表 - `/papers`
- [ ] 论文表格显示
  - [ ] 标题、类型、上传时间、检查次数
  - [ ] 标签显示（毕业论文/课程论文）
  
- [ ] 搜索功能
  - [ ] 标题搜索

- [ ] 筛选功能
  - [ ] 按类型筛选

- [ ] 操作按钮
  - [ ] 查看详情
  - [ ] 提交检查
  - [ ] 删除论文

#### 3.2 上传论文 - `/papers/upload`
- [ ] 文件上传
  - [ ] 仅支持 .docx 格式
  - [ ] 文件大小限制 50MB
  - [ ] 拖拽上传
  
- [ ] 表单验证
  - [ ] 论文标题、类型必填
  - [ ] 毕业论文：专业、院系、指导老师、学年
  - [ ] 课程论文：课程名称、课程代码、学期、授课教师
  
- [ ] 上传成功
  - [ ] 跳转到论文列表
  - [ ] 成功提示

#### 3.3 论文详情 - `/papers/:id`
- [ ] 论文信息展示
  - [ ] 所有元数据字段
  
- [ ] 检查历史
  - [ ] 表格显示历史检查记录
  - [ ] 时间、成绩、重复率、问题数
  
- [ ] 操作按钮
  - [ ] 提交检查
  - [ ] 删除论文

### 4. 检查功能 ✓

#### 4.1 提交检查 - `/check/submit/:paperId`
- [ ] 论文信息展示
  
- [ ] 检查类型选择
  - [ ] 标题检查
  - [ ] 格式检查
  - [ ] 内容检查
  - [ ] 查重检查
  - [ ] 逻辑检查
  - [ ] 至少选择一项
  
- [ ] 模板选择
  - [ ] 根据论文类型筛选模板
  - [ ] 公开/私有模板显示
  
- [ ] 提交
  - [ ] 成功后跳转到检查状态页

#### 4.2 检查状态 - `/check/status/:taskId`
- [ ] WebSocket 实时连接
  - [ ] 连接状态显示
  - [ ] 自动重连
  
- [ ] 进度显示
  - [ ] 进度条动画
  - [ ] 当前阶段提示
  - [ ] 百分比显示
  
- [ ] 状态表格
  - [ ] 状态、阶段、进度
  
- [ ] 完成后
  - [ ] 成功：显示 Result 组件，跳转到结果页
  - [ ] 失败：显示错误信息

### 5. 结果查看 ✓

#### 5.1 结果列表 - `/results`
- [ ] 结果表格
  - [ ] 论文标题、时间、成绩、重复率、问题数
  - [ ] 成绩标签（优秀/良好/中等/及格/不及格）
  - [ ] 重复率颜色标记（>30%红色，15-30%橙色，<15%绿色）
  
- [ ] 搜索功能
  - [ ] 论文标题搜索
  
- [ ] 分页
  - [ ] 显示总数
  - [ ] 切换每页条数

#### 5.2 结果详情 - `/results/:id`
- [ ] 统计卡片
  - [ ] 总体成绩
  - [ ] 重复率
  - [ ] 问题总数
  - [ ] 检查时间
  
- [ ] 各项成绩
  - [ ] 标题、格式、内容、逻辑各项分数
  
- [ ] 问题列表（分类标签页）
  - [ ] 标题问题
  - [ ] 格式问题
  - [ ] 内容问题
  - [ ] 逻辑问题
  - [ ] 表格显示：位置、严重程度、描述、建议

### 6. 个人中心 ✓ - `/profile`
- [ ] 基本信息标签页
  - [ ] 用户名、邮箱、角色等信息展示
  
- [ ] 编辑资料标签页
  - [ ] 修改昵称、电话、院系、专业
  - [ ] 保存成功提示
  
- [ ] 修改密码标签页
  - [ ] 旧密码、新密码、确认密码
  - [ ] 密码确认验证
  - [ ] 修改成功提示

### 7. 模板管理 ✓ - `/templates` (教师+)
- [ ] 模板列表
  - [ ] 名称、类型、可见性、上传时间
  - [ ] 类型标签（毕业论文/课程论文）
  - [ ] 可见性标签（公开/私有）
  
- [ ] 上传模板
  - [ ] 模板名称、描述、类型、可见性
  - [ ] 文件上传
  - [ ] 上传成功
  
- [ ] 编辑模板
  - [ ] 修改名称、描述、类型、可见性
  - [ ] 不能修改文件
  
- [ ] 删除模板
  - [ ] 确认弹窗
  - [ ] 删除成功

### 8. 用户管理 ✓ - `/users` (管理员)
- [ ] 用户列表
  - [ ] 用户名、昵称、邮箱、角色、院系、注册时间
  - [ ] 角色标签颜色区分
  
- [ ] 搜索功能
  - [ ] 用户名或邮箱搜索
  
- [ ] 角色筛选
  - [ ] 按角色筛选
  
- [ ] 修改角色
  - [ ] 弹窗选择新角色
  - [ ] 更新成功
  
- [ ] 删除用户
  - [ ] 确认弹窗
  - [ ] 删除成功

### 9. 参数设置 ✓ - `/parameters` (主任+)
- [ ] 参数列表
  - [ ] 名称、重复率阈值、格式阈值、适用范围、状态
  - [ ] 适用范围标签（全局/院系/专业）
  - [ ] 状态标签（已锁定/未锁定）
  
- [ ] 新增参数
  - [ ] 名称、描述
  - [ ] 各项阈值（重复率、格式、标题、内容、逻辑）
  - [ ] 适用范围、范围ID
  - [ ] 创建成功
  
- [ ] 编辑参数
  - [ ] 未锁定或院长可编辑
  - [ ] 已锁定主任不可编辑
  
- [ ] 锁定/解锁 (仅院长)
  - [ ] 切换锁定状态
  - [ ] 操作成功

### 10. 往届论文管理 ✓ - `/previous-papers` (教师+)
- [ ] 论文列表
  - [ ] 标题、作者、年份、院系、专业、上传时间
  
- [ ] 搜索功能
  - [ ] 标题或作者搜索
  
- [ ] 年份筛选
  - [ ] 下拉选择年份
  
- [ ] 上传论文
  - [ ] 标题、作者、年份、院系、专业
  - [ ] 文件上传（.docx，50MB限制）
  - [ ] 上传成功
  
- [ ] 删除论文
  - [ ] 确认弹窗
  - [ ] 删除成功

### 11. 统计分析 ✓ - `/statistics` (主任+)
- [ ] 日期范围选择
  - [ ] 默认最近30天
  - [ ] 自定义日期范围
  
- [ ] 总览卡片
  - [ ] 论文总数
  - [ ] 已完成数
  - [ ] 检查中数
  - [ ] 失败数
  
- [ ] 检查状态分布（饼图）
  - [ ] 已完成、检查中、失败
  
- [ ] 成绩分布（柱状图）
  - [ ] 优秀、良好、中等、及格、不及格
  
- [ ] 院系对比（柱状图+折线图）- 仅院长
  - [ ] 论文数、优秀率
  
- [ ] 教师统计（柱状图）- 主任+
  - [ ] Top 10 检查次数

### 12. 权限控制
- [ ] 学生
  - [ ] 可访问：首页、论文管理、检查、结果、个人中心
  - [ ] 不可访问：模板、用户、参数、往届论文、统计
  
- [ ] 教师
  - [ ] 学生权限 + 模板管理、往届论文管理
  
- [ ] 主任
  - [ ] 教师权限 + 参数设置、统计分析
  
- [ ] 院长
  - [ ] 主任权限 + 院系级统计数据
  
- [ ] 管理员
  - [ ] 所有权限 + 用户管理

### 13. 错误页面
- [ ] 404 页面 - `/404`
  - [ ] 返回首页按钮
  
- [ ] 403 页面 - `/403`
  - [ ] 权限不足提示
  - [ ] 返回首页按钮

### 14. 响应式布局
- [ ] 侧边栏折叠
- [ ] 移动端适配
- [ ] 表格横向滚动

## 性能测试

### 1. 加载性能
- [ ] 首屏加载时间 < 3s
- [ ] 路由懒加载生效
- [ ] 图片/图表按需加载

### 2. 交互性能
- [ ] 表格分页流畅
- [ ] 搜索/筛选响应及时
- [ ] WebSocket 实时更新无延迟

### 3. 网络请求
- [ ] API 请求带 Token
- [ ] 401 自动跳转登录
- [ ] 请求失败错误提示

## 兼容性测试
- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Edge (最新版)
- [ ] Safari (最新版)

## 安全性测试
- [ ] XSS 防护
- [ ] CSRF Token
- [ ] 敏感信息不在前端存储
- [ ] 权限路由拦截

## 注意事项

1. **后端依赖**：确保后端所有 API 端点正常工作
2. **WebSocket**：检查状态页面需要 WebSocket 支持
3. **文件上传**：测试大文件上传的性能和稳定性
4. **权限测试**：使用不同角色账号测试权限控制
5. **数据一致性**：检查前后端数据格式是否匹配

## 测试数据准备

1. 创建不同角色的测试账号：
   - 学生账号 1-2 个
   - 教师账号 1-2 个
   - 主任账号 1 个
   - 院长账号 1 个
   - 管理员账号 1 个

2. 准备测试文件：
   - 正常的 .docx 论文文件
   - 大文件（接近 50MB）
   - 格式不符的文件

3. 创建测试模板：
   - 毕业论文模板
   - 课程论文模板
   - 公开/私有模板

4. 上传测试论文：
   - 不同类型的论文
   - 不同院系的论文

5. 创建检查参数：
   - 全局参数
   - 院系参数
   - 专业参数
